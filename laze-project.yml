imports:
  - path: third_party/ariel-os
    symlink: true
    dldir: ariel-os

apps:
  - name: ariel-runtime-size-comparisons
    selects:
    - alloc
    env:
      global:
        heapsize_required:
          - "240000"


modules:
  - name: wasmtime
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/wasmtime
  - name: wasmtime-no-simd
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/wasmtime
        RUSTFLAGS:
          - --cfg pulley_disable_interp_simd
  - name: wasmi
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/wasmi
  - name: wasm-interpreter
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/wasm-interpreter
  - name: coremark
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/coremark
  - name: embench-1.0
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/embench-1
  - name: wamr
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/wamr
  - name: wamr-fast
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/wamr-fast

  - name: dynamic-memory-measure
    env:
      global:
        FEATURES:
          - ariel-runtime-size-comparisons/monitor-heap